kind: saml
version: v2
metadata:
  name: new_saml_connector
spec:
  # connector display name that will be appended to the title of "Login with"
  # button on the cluster login screen so it will say "Login with <display>"
  display: SAML
  # SAML provider will make a callback to this URL after successful authentication
  # cluster-url is the address the cluster UI is reachable at
  # The last segment of the URL must be identical to the connector metadata name.
  acs: 'https://<cluster-url>/v1/webapi/saml/acs/new_saml_connector'
  # Controls whether IdP-initiated SSO is allowed. If false, all such requests will be rejected with an error.
  allow_idp_initiated: false
  # mapping of SAML attributes to Teleport roles
  attributes_to_roles:
    - name: groups
      value: admins
      roles:
        - 'access'
        - 'editor'
  # Provides a path to the IdP metadata.
  entity_descriptor_url: https://<saml-provider-url>/metadata

